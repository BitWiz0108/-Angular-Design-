(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3/ER":function(t,e,i){"use strict";(function(t){var n=i("Ju5/"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===o?n.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var i=t.length,n=a?a(i):new t.constructor(i);return t.copy(n),n}}).call(this,i("3UD+")(t))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"Ju5/":function(t,e,i){"use strict";var n=i("XqMk"),o="object"==typeof self&&self&&self.Object===Object&&self,r=n.a||o||Function("return this")();e.a=r},L3Qv:function(t,e,i){"use strict";e.a=function(){return!1}},WOAq:function(t,e,i){"use strict";(function(t){var n=i("Ju5/"),o=i("L3Qv"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===r?n.a.Buffer:void 0;e.a=(a?a.isBuffer:void 0)||o.a}).call(this,i("3UD+")(t))},XqMk:function(t,e,i){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;e.a=n},"lDU+":function(t,e,i){"use strict";i.r(e),i.d(e,"QuestionModule",function(){return gn});var n=i("ofXK"),o=i("tyNb"),r=i("0np6"),s=i("+z1p"),a=i("fXoL"),c=i("VO+5"),d=i("9c77"),u=i("qfoJ"),l=i("tk/3");let h=(()=>{class t{constructor(t){this.http=t}search(t){return this.http.get(u.c+t+"&key="+u.b)}}return t.\u0275fac=function(e){return new(e||t)(a.ec(l.b))},t.\u0275prov=a.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=i("oOf3"),f=i("TIDI");function g(t,e){1&t&&(a.ac(0,"div",5),a.Vb(1,"i",6),a.Zb())}function m(t,e){if(1&t&&(a.Yb(0),a.ac(1,"p",34),a.Ic(2),a.Zb(),a.Xb()),2&t){const t=e.$implicit;a.Kb(2),a.Jc(t.title)}}const p=function(){return["/question/details"]},v=function(t){return{objectId:t}};function w(t,e){if(1&t&&(a.ac(0,"div",19),a.ac(1,"div",20),a.ac(2,"div",21),a.ac(3,"div",22),a.Vb(4,"i",23),a.ac(5,"p",24),a.Ic(6),a.Zb(),a.Zb(),a.ac(7,"div",25),a.Ic(8),a.lc(9,"date"),a.Zb(),a.ac(10,"p",26),a.Ic(11),a.Zb(),a.Zb(),a.ac(12,"div"),a.ac(13,"p",27),a.Ic(14),a.Zb(),a.Zb(),a.ac(15,"div"),a.ac(16,"div",28),a.Gc(17,m,3,1,"ng-container",29),a.ac(18,"div",30),a.Vb(19,"i",31),a.ac(20,"p",32),a.Ic(21),a.Zb(),a.ac(22,"p",33),a.Ic(23),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb()),2&t){const t=e.$implicit;a.Kb(1),a.rc("routerLink",a.tc(12,p))("queryParams",a.uc(13,v,t.id)),a.Kb(5),a.Jc(t.seen),a.Kb(2),a.Kc(" ",a.mc(9,10,t.systemCreationDate)," "),a.Kb(2),a.rc("ngClass","WITHPRESENTATION"==t.questionStatus?"bg-success":"bg-danger"),a.Kb(1),a.Kc(" ","WITHPRESENTATION"===t.questionStatus?"With Presentation":"NOPRESENTATIONYET"===t.questionStatus?"No Presentation Yet":"Closed"," "),a.Kb(3),a.Kc(" ",t.title," "),a.Kb(3),a.rc("ngForOf",t.tagList),a.Kb(4),a.Jc(t.usefulCount),a.Kb(2),a.Kc("by ",t.creatorDisplayName,"")}}const y=function(t,e,i,n){return{id:t,itemsPerPage:e,currentPage:i,totalItems:n}};function I(t,e){if(1&t){const t=a.bc();a.Yb(0),a.ac(1,"nav",9),a.ac(2,"button",10),a.Vb(3,"span",11),a.Zb(),a.ac(4,"div",12),a.ac(5,"ul",13),a.ac(6,"li",14),a.ac(7,"button",15),a.hc("click",function(){return a.Bc(t),a.kc(2).getQuestionList("")}),a.Ic(8," Most Recent Request "),a.Zb(),a.Zb(),a.ac(9,"li",14),a.ac(10,"button",15),a.hc("click",function(){return a.Bc(t),a.kc(2).getQuestionList("like")}),a.Vb(11,"i",16),a.Ic(12," Top liked request "),a.Zb(),a.Zb(),a.ac(13,"li",14),a.ac(14,"button",17),a.hc("click",function(){return a.Bc(t),a.kc(2).getQuestionList("likeWithVideo")}),a.Vb(15,"i",16),a.Ic(16," Top request paper with video "),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Gc(17,w,24,15,"div",18),a.lc(18,"paginate"),a.Xb()}if(2&t){const t=a.kc(2);a.Kb(17),a.rc("ngForOf",a.nc(18,1,t.questionList,a.xc(4,y,t.config.id,t.config.itemsPerPage,t.config.currentPage,t.totalCount)))}}function Z(t,e){if(1&t&&(a.ac(0,"div",7),a.Gc(1,I,19,9,"ng-container",8),a.Zb()),2&t){const t=a.kc();a.Kb(1),a.rc("ngIf",t.questionList&&t.questionList.length)}}function q(t,e){if(1&t){const t=a.bc();a.ac(0,"div",35),a.ac(1,"pagination-controls",36),a.hc("pageChange",function(e){return a.Bc(t),a.kc().onPageChange(e)}),a.Zb(),a.Zb()}if(2&t){const t=a.kc();a.Kb(1),a.rc("id",t.config.id)("previousLabel","Previous")("nextLabel","Next")("screenReaderPaginationLabel","Next page")("screenReaderPageLabel","Page")("screenReaderCurrentLabel","Current page")}}function C(t,e){1&t&&(a.Yb(0),a.Ic(1," Unfortunately, we couldn't find any question including your keywords. There is either no question including your keywords or your keywords are too general... "),a.Xb())}function L(t,e){1&t&&a.Ic(0,"There is no question for showing, Be the first One who asks a Question. ")}const _=function(){return{"background-color":"#dcdbdb"}};function k(t,e){if(1&t&&(a.ac(0,"div",41),a.ac(1,"fieldset",42),a.ac(2,"div",43),a.ac(3,"legend",44),a.ac(4,"h4"),a.Ic(5),a.Zb(),a.Vb(6,"br"),a.Zb(),a.ac(7,"div",45),a.ac(8,"div",46),a.ac(9,"div",47),a.ac(10,"div",48),a.ac(11,"div",49),a.Vb(12,"youtube-player",50),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb()),2&t){const t=e.$implicit,i=e.index;a.Kb(1),a.rc("ngStyle",a.tc(3,_)),a.Kb(4),a.Kc("Suggested Video ",i+1,""),a.Kb(7),a.sc("videoId",t.id.videoId)}}function x(t,e){if(1&t&&(a.Yb(0),a.Gc(1,k,13,4,"div",40),a.Xb()),2&t){const t=a.kc(2);a.Kb(1),a.rc("ngForOf",t.suggestedVideo)}}function P(t,e){if(1&t&&(a.ac(0,"div",5),a.ac(1,"p",37),a.Gc(2,C,2,0,"ng-container",38),a.Gc(3,L,1,0,"ng-template",null,39,a.Hc),a.Zb(),a.Gc(5,x,2,1,"ng-container",8),a.Zb()),2&t){const t=a.zc(4),e=a.kc();a.Kb(2),a.rc("ngIf",e.term)("ngIfElse",t),a.Kb(3),a.rc("ngIf",e.term&&e.suggestedVideo&&e.suggestedVideo.length)}}let O=(()=>{class t{constructor(t,e,i,n,o,a){this.router=t,this.notifier=e,this.activatedRoute=i,this.questionService=n,this.youtubeService=o,this.cd=a,this.Editor=s,this.questionList=[],this.mainQuestionList=[],this.term="",this.selectedTagList=[],this.config={id:"customerList",itemsPerPage:10,currentPage:1},this.totalCount=0,this.loading=!1,this.suggestedVideo=[],this.token=r.a.getLocalStorageToken()}ngOnInit(){this.cd.detectChanges(),this.activatedRoute.queryParams.subscribe(t=>{this.config.currentPage=t.page?t.page:1,this.config.itemsPerPage=t.size?t.size:10,this.term=t.term?t.term:"",this.selectedTagList=t.selectedTagList?t.selectedTagList.split(","):[],this.totalCount=0,this.getQuestionList("")})}suggestVideos(){this.term?this.youtubeService.search(this.term).subscribe(t=>{this.loading=!1,t&&t.items&&t.items?this.suggestedVideo=t.items:this.showNotification()},t=>{console.log(t),this.showNotification()}):this.showNotification()}getQuestionList(t){this.loading=!0,this.questionList=[],this.totalCount=0,this.questionService.getAllPageable(this.term,this.selectedTagList,this.config.currentPage,this.config.itemsPerPage,this.totalCount,t).subscribe(t=>{t&&t.content&&t.content.length?(this.loading=!1,this.totalCount=t.totalElements,this.questionList=t.content):this.suggestVideos()})}showNotification(){this.loading=!1}onPageChange(t){console.log("Going to reload page"),this.config.currentPage=t,this.router.navigateByUrl("/question/list?term="+this.term+"&selectedTagList="+this.selectedTagList+"&page="+t+"&size=10")}}return t.\u0275fac=function(e){return new(e||t)(a.Ub(o.b),a.Ub(c.c),a.Ub(o.a),a.Ub(d.a),a.Ub(h),a.Ub(a.i))},t.\u0275cmp=a.Ob({type:t,selectors:[["app-questions"]],decls:6,vars:4,consts:[[1,"container","question-list"],["id","myItems",1,"row","justify-content-center"],["class","loading-box",4,"ngIf"],["class","col-sm-12 mb-3",4,"ngIf"],["class","has-text-centered color-bale font-weight-bold",4,"ngIf"],[1,"loading-box"],[1,"fa","fa-spin","fa-spinner","fa-3x"],[1,"col-sm-12","mb-3"],[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["type","button","data-toggle","collapse","data-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["type","button",1,"btn","btn-light","mr-3",3,"click"],[1,"fa","fa-filter"],["type","button",1,"btn","btn-light",3,"click"],["class","card mx-0",4,"ngFor","ngForOf"],[1,"card","mx-0"],[1,"cursor-pointer","question-box",3,"routerLink","queryParams"],[1,"d-flex","flex-row"],[1,"d-flex","flex-row","ml-2","mt-1"],[1,"fa","color-bale","fa-eye"],[1,"fa","color-bale"],[1,"ml-auto","p-2","color-bale"],[1,"status",3,"ngClass"],[1,"pl-3","font-weight-bold","color-primary"],[1,"col-sm12","md-3","form-inline"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-row","ml-auto","color-bale"],[1,"fa","fa-thumbs-up"],[1,"mb-0","mr-4","likes"],[1,"mb-0","mr-4"],[1,"tag","pl-3","pr-3"],[1,"has-text-centered","color-bale","font-weight-bold"],[3,"id","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel","pageChange"],[1,"alert-danger","p-2"],[4,"ngIf","ngIfElse"],["withOutTerm",""],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"form-group",3,"ngStyle"],[1,"row"],[1,"col-form-label","col-sm-2","pt-2","pl-4"],[1,"col-sm-10"],[1,"card-body"],[1,"col-md-12"],[1,"submenu",2,"height","auto"],[1,"videoWrapper"],[3,"videoId"]],template:function(t,e){1&t&&(a.ac(0,"div",0),a.ac(1,"div",1),a.Gc(2,g,2,0,"div",2),a.Gc(3,Z,2,1,"div",3),a.Gc(4,q,2,6,"div",4),a.Gc(5,P,6,3,"div",2),a.Zb(),a.Zb()),2&t&&(a.Kb(2),a.rc("ngIf",e.loading),a.Kb(1),a.rc("ngIf",!e.loading),a.Kb(1),a.rc("ngIf",!e.loading&&e.questionList.length),a.Kb(1),a.rc("ngIf",!e.loading&&!e.questionList.length))},directives:[n.l,n.k,o.c,n.j,b.c,n.m,f.a],pipes:[b.b,n.d],styles:[".container[_ngcontent-%COMP%]{padding:10px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.tag[_ngcontent-%COMP%]{background-color:#8a8d90;color:#fff;margin:10px 5px;border-radius:7px}.card-footer[_ngcontent-%COMP%]{padding:0 1.25rem}.question-list[_ngcontent-%COMP%]{min-height:75vh}.loading-box[_ngcontent-%COMP%]{padding-top:100px;margin-right:auto;margin-left:auto}.loading-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-align:center;text-shadow:2px 2px #8e8e8e}.card[_ngcontent-%COMP%]:hover{box-shadow:1px 3px 5px 3px #1c6dd0}.card[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px}.videoWrapper[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}.videoWrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.status[_ngcontent-%COMP%]{border:0 solid;border-radius:0 10px 0 10px;padding:6px;color:#fff;text-align:center}.likes[_ngcontent-%COMP%]{margin-top:2px}pagination-controls[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0!important}button.btn-info[_ngcontent-%COMP%]{padding:0;height:30px;width:30px}"]}),t})();var A=i("o3dE"),j=i("GT5q"),M=i("3Pt+"),T=i("0Ihf"),S=i("bH2/");function K(t,e,i,n){return new(i||(i=Promise))(function(o,r){function s(t){try{c(n.next(t))}catch(e){r(e)}}function a(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})}var E=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},N=i("Ju5/"),D=function(){return N.a.Date.now()},B=/\s/,F=/^\s+/,R=N.a.Symbol,U=Object.prototype,G=U.hasOwnProperty,V=U.toString,W=R?R.toStringTag:void 0,Y=Object.prototype.toString,z=R?R.toStringTag:void 0,H=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":z&&z in Object(t)?function(t){var e=G.call(t,W),i=t[W];try{t[W]=void 0;var n=!0}catch(r){}var o=V.call(t);return n&&(e?t[W]=i:delete t[W]),o}(t):function(t){return Y.call(t)}(t)},Q=function(t){return null!=t&&"object"==typeof t},J=/^[-+]0x[0-9a-f]+$/i,X=/^0b[01]+$/i,tt=/^0o[0-7]+$/i,et=parseInt,it=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||Q(t)&&"[object Symbol]"==H(t)}(t))return NaN;if(E(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=E(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;var i;t=(i=t)?i.slice(0,function(t){for(var e=t.length;e--&&B.test(t.charAt(e)););return e}(i)+1).replace(F,""):i;var n=X.test(t);return n||tt.test(t)?et(t.slice(2),n?2:8):J.test(t)?NaN:+t},nt=Math.max,ot=Math.min,rt=function(t,e){return t===e||t!=t&&e!=e},st=function(t,e){for(var i=t.length;i--;)if(rt(t[i][0],e))return i;return-1},at=Array.prototype.splice;function ct(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}ct.prototype.clear=function(){this.__data__=[],this.size=0},ct.prototype.delete=function(t){var e=this.__data__,i=st(e,t);return!(i<0||(i==e.length-1?e.pop():at.call(e,i,1),--this.size,0))},ct.prototype.get=function(t){var e=this.__data__,i=st(e,t);return i<0?void 0:e[i][1]},ct.prototype.has=function(t){return st(this.__data__,t)>-1},ct.prototype.set=function(t,e){var i=this.__data__,n=st(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this};var dt,ut=ct,lt=function(t){if(!E(t))return!1;var e=H(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},ht=N.a["__core-js_shared__"],bt=(dt=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||""))?"Symbol(src)_1."+dt:"",ft=Function.prototype.toString,gt=function(t){if(null!=t){try{return ft.call(t)}catch(e){}try{return t+""}catch(e){}}return""},mt=/^\[object .+?Constructor\]$/,pt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=function(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!E(t)||(e=t,bt&&bt in e))&&(lt(t)?pt:mt).test(gt(t));var e}(i)?i:void 0},wt=vt(N.a,"Map"),yt=vt(Object,"create"),It=Object.prototype.hasOwnProperty,Zt=Object.prototype.hasOwnProperty;function qt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}qt.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},qt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qt.prototype.get=function(t){var e=this.__data__;if(yt){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return It.call(e,t)?e[t]:void 0},qt.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:Zt.call(e,t)},qt.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=yt&&void 0===e?"__lodash_hash_undefined__":e,this};var Ct=qt,Lt=function(t,e){var i,n,o=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map};function _t(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}_t.prototype.clear=function(){this.size=0,this.__data__={hash:new Ct,map:new(wt||ut),string:new Ct}},_t.prototype.delete=function(t){var e=Lt(this,t).delete(t);return this.size-=e?1:0,e},_t.prototype.get=function(t){return Lt(this,t).get(t)},_t.prototype.has=function(t){return Lt(this,t).has(t)},_t.prototype.set=function(t,e){var i=Lt(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this};var kt=_t;function xt(t){var e=this.__data__=new ut(t);this.size=e.size}xt.prototype.clear=function(){this.__data__=new ut,this.size=0},xt.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var i=this.__data__;if(i instanceof ut){var n=i.__data__;if(!wt||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new kt(n)}return i.set(t,e),this.size=i.size,this};var Pt=xt,Ot=function(){try{var t=vt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),At=function(t,e,i){"__proto__"==e&&Ot?Ot(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i},jt=Object.prototype.hasOwnProperty,Mt=function(t,e,i){var n=t[e];jt.call(t,e)&&rt(n,i)&&(void 0!==i||e in t)||At(t,e,i)},Tt=function(t,e,i,n){var o=!i;i||(i={});for(var r=-1,s=e.length;++r<s;){var a=e[r],c=n?n(i[a],t[a],a,i,t):void 0;void 0===c&&(c=t[a]),o?At(i,a,c):Mt(i,a,c)}return i},St=function(t){return Q(t)&&"[object Arguments]"==H(t)},Kt=Object.prototype,Et=Kt.hasOwnProperty,Nt=Kt.propertyIsEnumerable,Dt=St(function(){return arguments}())?St:function(t){return Q(t)&&Et.call(t,"callee")&&!Nt.call(t,"callee")},Bt=Array.isArray,Ft=i("WOAq"),Rt=/^(?:0|[1-9]\d*)$/,Ut=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&Rt.test(t))&&t>-1&&t%1==0&&t<e},Gt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Vt={};Vt["[object Float32Array]"]=Vt["[object Float64Array]"]=Vt["[object Int8Array]"]=Vt["[object Int16Array]"]=Vt["[object Int32Array]"]=Vt["[object Uint8Array]"]=Vt["[object Uint8ClampedArray]"]=Vt["[object Uint16Array]"]=Vt["[object Uint32Array]"]=!0,Vt["[object Arguments]"]=Vt["[object Array]"]=Vt["[object ArrayBuffer]"]=Vt["[object Boolean]"]=Vt["[object DataView]"]=Vt["[object Date]"]=Vt["[object Error]"]=Vt["[object Function]"]=Vt["[object Map]"]=Vt["[object Number]"]=Vt["[object Object]"]=Vt["[object RegExp]"]=Vt["[object Set]"]=Vt["[object String]"]=Vt["[object WeakMap]"]=!1;var Wt=function(t){return function(e){return t(e)}},Yt=i("xutz"),zt=Yt.a&&Yt.a.isTypedArray,$t=zt?Wt(zt):function(t){return Q(t)&&Gt(t.length)&&!!Vt[H(t)]},Ht=Object.prototype.hasOwnProperty,Qt=function(t,e){var i=Bt(t),n=!i&&Dt(t),o=!i&&!n&&Object(Ft.a)(t),r=!i&&!n&&!o&&$t(t),s=i||n||o||r,a=s?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],c=a.length;for(var d in t)!e&&!Ht.call(t,d)||s&&("length"==d||o&&("offset"==d||"parent"==d)||r&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Ut(d,c))||a.push(d);return a},Jt=Object.prototype,Xt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Jt)},te=function(t,e){return function(i){return t(e(i))}},ee=te(Object.keys,Object),ie=Object.prototype.hasOwnProperty,ne=function(t){return null!=t&&Gt(t.length)&&!lt(t)},oe=function(t){return ne(t)?Qt(t):function(t){if(!Xt(t))return ee(t);var e=[];for(var i in Object(t))ie.call(t,i)&&"constructor"!=i&&e.push(i);return e}(t)},re=Object.prototype.hasOwnProperty,se=function(t){return ne(t)?Qt(t,!0):function(t){if(!E(t))return function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}(t);var e=Xt(t),i=[];for(var n in t)("constructor"!=n||!e&&re.call(t,n))&&i.push(n);return i}(t)},ae=i("3/ER"),ce=function(){return[]},de=Object.prototype.propertyIsEnumerable,ue=Object.getOwnPropertySymbols,le=ue?function(t){return null==t?[]:(t=Object(t),function(e,i){for(var n=-1,o=null==e?0:e.length,r=0,s=[];++n<o;){var a=e[n];de.call(t,a)&&(s[r++]=a)}return s}(ue(t)))}:ce,he=function(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t},be=te(Object.getPrototypeOf,Object),fe=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)he(e,le(t)),t=be(t);return e}:ce,ge=function(t,e,i){var n=e(t);return Bt(t)?n:he(n,i(t))},me=function(t){return ge(t,oe,le)},pe=function(t){return ge(t,se,fe)},ve=vt(N.a,"DataView"),we=vt(N.a,"Promise"),ye=vt(N.a,"Set"),Ie=vt(N.a,"WeakMap"),Ze=gt(ve),qe=gt(wt),Ce=gt(we),Le=gt(ye),_e=gt(Ie),ke=H;(ve&&"[object DataView]"!=ke(new ve(new ArrayBuffer(1)))||wt&&"[object Map]"!=ke(new wt)||we&&"[object Promise]"!=ke(we.resolve())||ye&&"[object Set]"!=ke(new ye)||Ie&&"[object WeakMap]"!=ke(new Ie))&&(ke=function(t){var e=H(t),i="[object Object]"==e?t.constructor:void 0,n=i?gt(i):"";if(n)switch(n){case Ze:return"[object DataView]";case qe:return"[object Map]";case Ce:return"[object Promise]";case Le:return"[object Set]";case _e:return"[object WeakMap]"}return e});var xe=ke,Pe=Object.prototype.hasOwnProperty,Oe=N.a.Uint8Array,Ae=function(t){var e=new t.constructor(t.byteLength);return new Oe(e).set(new Oe(t)),e},je=/\w*$/,Me=R?R.prototype:void 0,Te=Me?Me.valueOf:void 0,Se=Object.create,Ke=function(){function t(){}return function(e){if(!E(e))return{};if(Se)return Se(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),Ee=Yt.a&&Yt.a.isMap,Ne=Ee?Wt(Ee):function(t){return Q(t)&&"[object Map]"==xe(t)},De=Yt.a&&Yt.a.isSet,Be=De?Wt(De):function(t){return Q(t)&&"[object Set]"==xe(t)},Fe={};Fe["[object Arguments]"]=Fe["[object Array]"]=Fe["[object ArrayBuffer]"]=Fe["[object DataView]"]=Fe["[object Boolean]"]=Fe["[object Date]"]=Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Map]"]=Fe["[object Number]"]=Fe["[object Object]"]=Fe["[object RegExp]"]=Fe["[object Set]"]=Fe["[object String]"]=Fe["[object Symbol]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe["[object Error]"]=Fe["[object Function]"]=Fe["[object WeakMap]"]=!1;var Re=function t(e,i,n,o,r,s){var a,c=1&i,d=2&i,u=4&i;if(n&&(a=r?n(e,o,r,s):n(e)),void 0!==a)return a;if(!E(e))return e;var l=Bt(e);if(l){if(a=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&Pe.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(e),!c)return function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}(e,a)}else{var h=xe(e),b="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(Ft.a)(e))return Object(ae.a)(e,c);if("[object Object]"==h||"[object Arguments]"==h||b&&!r){if(a=d||b?{}:function(t){return"function"!=typeof t.constructor||Xt(t)?{}:Ke(be(t))}(e),!c)return d?function(t,e){return Tt(t,fe(t),e)}(e,function(t,e){return t&&Tt(e,se(e),t)}(a,e)):function(t,e){return Tt(t,le(t),e)}(e,function(t,e){return t&&Tt(e,oe(e),t)}(a,e))}else{if(!Fe[h])return r?e:{};a=function(t,e,i){var n,o,r=t.constructor;switch(e){case"[object ArrayBuffer]":return Ae(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return function(t,e){var i=e?Ae(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var i=e?Ae(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}(t,i);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return(o=new(n=t).constructor(n.source,je.exec(n))).lastIndex=n.lastIndex,o;case"[object Set]":return new r;case"[object Symbol]":return Te?Object(Te.call(t)):{}}}(e,h,c)}}s||(s=new Pt);var f=s.get(e);if(f)return f;s.set(e,a),Be(e)?e.forEach(function(o){a.add(t(o,i,n,o,e,s))}):Ne(e)&&e.forEach(function(o,r){a.set(r,t(o,i,n,r,e,s))});var g=l?void 0:(u?d?pe:me:d?se:oe)(e);return function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i););}(g||e,function(o,r){g&&(o=e[r=o]),Mt(a,r,t(o,i,n,r,e,s))}),a},Ue=Function.prototype.toString,Ge=Object.prototype.hasOwnProperty,Ve=Ue.call(Object);function We(t,e=new Set){const i=[t],n=new Set;for(;i.length>0;){const t=i.shift();if(!(n.has(t)||Ye(t)||e.has(t)))if(n.add(t),t[Symbol.iterator])try{for(const e of t)i.push(e)}catch(o){}else for(const e in t)"defaultValue"!==e&&i.push(t[e])}return n}function Ye(t){const e=Object.prototype.toString.call(t),i=typeof t;return"number"===i||"boolean"===i||"string"===i||"symbol"===i||"function"===i||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t instanceof EventTarget||t instanceof Event}class ze extends class{constructor(t){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e=t.error||t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(t=>t!==e)}_fire(t,...e){const i=this._listeners[t]||[];for(const n of i)n.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&null!=t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=function(t,e,i){var n=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return E(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),function(t,e,i){var n,o,r,s,a,c,d=0,u=!1,l=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var i=n,r=o;return n=o=void 0,d=e,s=t.apply(r,i)}function f(t){return d=t,a=setTimeout(m,e),u?b(t):s}function g(t){var i=t-c;return void 0===c||i>=e||i<0||l&&t-d>=r}function m(){var t=D();if(g(t))return p(t);a=setTimeout(m,function(t){var i=e-(t-c);return l?ot(i,r-(t-d)):i}(t))}function p(t){return a=void 0,h&&n?b(t):(n=o=void 0,s)}function v(){var t=D(),i=g(t);if(n=arguments,o=this,c=t,i){if(void 0===a)return f(c);if(l)return clearTimeout(a),a=setTimeout(m,e),b(c)}return void 0===a&&(a=setTimeout(m,e)),s}return e=it(e)||0,E(i)&&(u=!!i.leading,r=(l="maxWait"in i)?nt(it(i.maxWait)||0,e):r,h="trailing"in i?!!i.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),d=0,n=c=o=a=void 0},v.flush=function(){return void 0===a?s:p(D())},v}(t,e,{leading:n,maxWait:e,trailing:o})}(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),this._creator=(e,i)=>t.create(e,i),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,i){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=i,this._creator(t,this._config))).then(t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,this._destructor(t)})}_save(){const t=this._editor.model.document.version;if(t!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return function(t,e,i=new Set){if(t===e&&"object"==typeof(n=t)&&null!==n)return!0;var n;const o=We(t,i),r=We(e,i);for(const s of o)if(r.has(s))return!0;return!1}(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Re(t,5,e="function"==typeof(e=(t,e)=>function(t){return Q(t)&&1===t.nodeType&&!function(t){if(!Q(t)||"[object Object]"!=H(t))return!1;var e=be(t);if(null===e)return!0;var i=Ge.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Ue.call(i)==Ve}(t)}(t)||"context"===e?t:void 0)?e:void 0);var e}}var $e=i("SxV6");function He(t,e){}const Qe=new Array(256).fill(0).map((t,e)=>("0"+e.toString(16)).slice(-2));let Je=(()=>{class t{constructor(t,e){this.config={},this.data="",this.tagName="div",this.ready=new a.q,this.change=new a.q,this.blur=new a.q,this.focus=new a.q,this.error=new a.q,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+Qe[t>>0&255]+Qe[t>>8&255]+Qe[t>>16&255]+Qe[t>>24&255]+Qe[e>>0&255]+Qe[e>>8&255]+Qe[e>>16&255]+Qe[e>>24&255]+Qe[i>>0&255]+Qe[i>>8&255]+Qe[i>>16&255]+Qe[i>>24&255]+Qe[n>>0&255]+Qe[n>>8&255]+Qe[n>>16&255]+Qe[n>>24&255]}(),this.ngZone=e,this.elementRef=t}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return K(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.ready.pipe(Object($e.a)()).subscribe(t=>{t.setData(this.data)}))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(this.editorInstance.isReadOnly=t),this.initiallyDisabled=t}attachToWatchdog(){const t=(t,e)=>K(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>K(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(t);const i=yield this.editor.create(t,e);return this.initiallyDisabled&&(i.isReadOnly=this.initiallyDisabled),this.ngZone.run(()=>{this.ready.emit(i)}),this.setUpEditorEvents(i),i}))}),e=t=>K(this,void 0,void 0,function*(){yield t.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),i=()=>{this.ngZone.run(()=>{this.error.emit()})},n=document.createElement(this.tagName),o=this.getConfig();if(this.editorElement=n,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:e,sourceElementOrData:n,config:o}),this.watchdog.on("itemError",(t,{itemId:e})=>{e===this.id&&i()});else{const r=new ze(this.editor);r.setCreator(t),r.setDestructor(e),r.on("error",i),this.editorWatchdog=r,this.editorWatchdog.create(n,o)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const t=Object.assign({},this.config),e=this.config.initialData||this.data;return e&&(t.initialData=e),t}setUpEditorEvents(t){const e=t.editing.view.document;t.model.document.on("change:data",e=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const e=t.getData();this.cvaOnChange(e)}this.change.emit({event:e,editor:t})})}),e.on("focus",e=>{this.ngZone.run(()=>{this.focus.emit({event:e,editor:t})})}),e.on("blur",e=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:e,editor:t})})})}}return t.\u0275fac=function(e){return new(e||t)(a.Ub(a.o),a.Ub(a.F))},t.\u0275cmp=a.Ob({type:t,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[a.Jb([{provide:M.h,useExisting:Object(a.bb)(()=>t),multi:!0}])],decls:1,vars:0,template:function(t,e){1&t&&a.Gc(0,He,0,0,"ng-template")},encapsulation:2}),t})(),Xe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Sb({type:t}),t.\u0275inj=a.Rb({imports:[[M.g,n.b]]}),t})();var ti=i("ZOsW"),ei=A.a.QuestionStatus,ii=A.a.Tag;function ni(t,e){1&t&&a.Vb(0,"a",53),2&t&&a.rc("innerHTML",e.$implicit.title,a.Cc)}function oi(t,e){1&t&&a.Vb(0,"div",53),2&t&&a.rc("innerHTML",e.$implicit,a.Cc)}function ri(t,e){1&t&&(a.ac(0,"small",54),a.Ic(1," Paper title is required. "),a.Zb())}const si=function(){return["blockquote","bold","italic","heading"]},ai=function(t){return{toolbar:t,height:"500px",placeholder:"You can write a short description about your request here."}};function ci(t,e){if(1&t){const t=a.bc();a.ac(0,"div",49),a.ac(1,"label",55),a.Ic(2," Request Description"),a.ac(3,"small"),a.Ic(4,"(required)"),a.Zb(),a.Zb(),a.ac(5,"ckeditor",56),a.hc("change",function(e){return a.Bc(t),a.kc().changeInBody(e)}),a.Zb(),a.Zb()}if(2&t){const t=a.kc();a.Kb(5),a.rc("editor",t.Editor)("config",a.uc(4,ai,a.tc(3,si)))("data",t.question.body)}}function di(t,e){if(1&t){const t=a.bc();a.ac(0,"div",57),a.ac(1,"label",55),a.Ic(2," Tags"),a.ac(3,"small"),a.Ic(4,"(required)"),a.Zb(),a.Zb(),a.ac(5,"ng-select",58),a.hc("change",function(e){return a.Bc(t),a.kc().setTag(e)})("ngModelChange",function(e){return a.Bc(t),a.kc().selectedTagList=e}),a.Zb(),a.Zb()}if(2&t){const t=a.kc();a.Kb(5),a.rc("items",t.tagList)("multiple",!0)("ngModel",t.selectedTagList)("placeholder","Choose the related tags")}}function ui(t,e){1&t&&(a.ac(0,"div",59),a.Vb(1,"div",60),a.Zb())}function li(t,e){if(1&t&&(a.Yb(0),a.ac(1,"p",61),a.Ic(2),a.Zb(),a.Xb()),2&t){const t=e.$implicit;a.Kb(2),a.Jc(t.title)}}function hi(t,e){1&t&&a.Vb(0,"i",62)}let bi=(()=>{class t{constructor(t,e,i,n,o,a,c){this.questionService=t,this.activatedRoute=e,this.notifier=i,this.router=n,this.fb=o,this.tagService=a,this.location=c,this.Editor=s,this.question=new A.a.Action,this.questionCopy=new A.a.Action,this.defaultKeywords=[],this.mode=j.a.ADD,this.showBody=!1,this.tag=new ii,this.tagList=[],this.selectedTagList=[],this.showTags=!1,this.user=r.a.getLocalStorageUser(),this.showEditor=!1,this.actionMode=j.a,this.loading=!1,this.keyword="title",this.data=[],this.question.questionStatus=ei.NOPRESENTATIONYET,this.mode=this.activatedRoute.snapshot.queryParams.mode,this.question.id=this.activatedRoute.snapshot.queryParams.objectId,this.form=o.group({title:new M.d("",[M.o.required]),name:new M.d(""),year:new M.d(""),firstAuthorName:new M.d("")})}ngOnInit(){this.getTagList(),this.mode===j.a.EDIT?this.getOne():this.showEditor=!0}selectEvent(t){this.router.navigateByUrl("/panel/question/details?objectId="+t.id)}onChangeSearch(t){this.questionService.getListByTitle(t||" ").subscribe(t=>{t&&t.length&&(this.data=t)})}onFocused(t){}getToday(){return(new Date).toISOString().split("T")[0]}getTagList(){this.tagService.getAll().subscribe(t=>{t&&t.length&&(this.tagList=t,this.showTags=!0,this.tagList.sort((t,e)=>t.title>e.title?1:e.title>t.title?-1:0))})}getOne(){this.questionService.getOne(this.question.id).subscribe(t=>{if(t&&t.id){this.showTags=!1,this.question=t,this.questionCopy=t;for(let t of this.question.tagList)this.selectedTagList.push(t.id);setTimeout(()=>{this.showTags=!0,this.showEditor=!0},200)}})}submit(){this.form.invalid?this.notifier.notify("error","Some necessary fields are empty."):null==this.question.body||""===this.question.body.trim()||this.question.body.length<20?this.notifier.notify("error","You should describe your question in the description section with at least 20 characters."):(this.loading=!0,this.mode===j.a.ADD?this.questionService.create(this.question).subscribe(t=>{t&&t.id&&($("#closeQuestionModal").click(),this.notifier.notify("success","Your request was successfully added."),this.routeToQuestionListWithTagRefresh("/question/list"))},t=>{this.loading=!1}):this.questionService.update(this.question).subscribe(t=>{t&&t.result&&($("#closeQuestionModal").click(),this.notifier.notify("success","Operation has been finished successfully."),this.routeToQuestionListWithTagRefresh("/question/list"))},t=>{this.loading=!1}))}routeToQuestionListWithTagRefresh(t){let e=t;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([e])}back(){this.location.back()}setTag(t){this.selectedTagList=[],this.question.tagList=[];for(const e of t)this.selectedTagList.push(e.id),this.question.tagList.push(e)}createTag(){""!==this.tag.title.trim()&&(this.tagService.create(this.tag).subscribe(t=>{t&&t.id&&(this.showTags=!1,this.tagList.push({title:this.tag.title,id:t.id}),this.question.tagList.push({title:this.tag.title,id:t.id}),this.selectedTagList.push(t.id),this.tag=new ii,setTimeout(()=>{this.showTags=!0},200))}),$("#tagModal").modal("hide"))}questionPreview(){this.form.invalid?this.notifier.notify("error","Some necessary fields are empty."):null==this.question.body||""===this.question.body.trim()||this.question.body.length<2?this.notifier.notify("error","You should describe your question in the body section."):null==this.question.tagList||this.question.tagList.length<3?this.notifier.notify("error","You should select at least 3 tags."):(this.question.name=this.question.name,this.question.creatorDisplayName=this.user.displayName,this.question.creatorId=this.user.id,this.showBody=!0,$("#previewModal").modal("show"),setTimeout(()=>{let t=document.getElementById("questionBody"),e=document.getElementById("questionName"),i=document.getElementById("questionYearOfPaper"),n=document.getElementById("questionAuthorName");t.innerHTML=this.question.body?this.question.body:"";let o=this.question.year?this.question.year:"",r=this.question.firstAuthorName?this.question.firstAuthorName:"";e.innerHTML=" <h6>Journal/Conference: "+(this.question.name?this.question.name:"")+"</h6>",i.innerHTML=" <h6>Year of the Paper: "+o+"</h6>",n.innerHTML=" <h6>First Author's Name: "+r+"</h6>"},100))}changeInBody(t){this.question.body=t.editor.getData()}}return t.\u0275fac=function(e){return new(e||t)(a.Ub(d.a),a.Ub(o.a),a.Ub(c.c),a.Ub(o.b),a.Ub(M.c),a.Ub(T.a),a.Ub(n.h))},t.\u0275cmp=a.Ob({type:t,selectors:[["app-question-action"]],decls:100,vars:25,consts:[[1,"container","pt-3","pb-3"],[1,"card"],[1,"card-header"],[1,"row"],[1,"w-100","mt-4"],[1,"col-md-12","mt-0",3,"formGroup"],["for","title",1,"control-label","font-weight-bold","h4"],[1,"ng-autocomplete"],["formControlName","title","name","title","id","title",3,"data","searchKeyword","itemTemplate","notFoundTemplate","ngModel","selected","inputChanged","inputFocused","ngModelChange"],["itemTemplate",""],["notFoundTemplate",""],["class","form-text text-muted ml-2",4,"ngIf"],[1,"card-body"],[1,"w-100","mt-0"],["for","name",1,"control-label","font-weight-bold","h4"],["name","name","id","name","placeholder","Please, write the name of journal/conference.","formControlName","name",1,"form-control",3,"ngModel","ngModelChange"],["for","year",1,"control-label","font-weight-bold","h4"],["type","date","name","year","id","year","placeholder","Please, write the year of the paper.","formControlName","year",1,"form-control",3,"ngModel","max","ngModelChange"],["for","firstAuthorName",1,"control-label","font-weight-bold","h4"],["name","firstAuthorName","id","firstAuthorName","placeholder","Please, write the first Author's Name.","formControlName","firstAuthorName",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","row","pl-0"],["class","col-md-9",4,"ngIf"],["type","button","data-toggle","modal","data-target","#tagModal",1,"btn","btn-save","createTagBtn"],[1,"fa","fa-plus"],[1,"text-muted","d-flex","justify-content-center"],["type","button",1,"btn","btn-save-lighter","questionPreviewbtn",3,"click"],["id","previewModal","tabindex","-1","role","dialog","aria-labelledby","previewModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["role","document",1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"color-primary","font-weight-bold","pl-2"],[1,"ml-4"],[1,"ml-6"],[1,"mt-3","ml-1"],["class","d-flex flex-row align-items-center","style","justify-content: center",4,"ngIf"],[1,"col-sm12","md-3","form-inline"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","id","closeQuestionModal","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-save","bk-color-primary",3,"disabled","click"],["class","fa fa-spin fa-spinner btn-loading-bar",4,"ngIf"],["id","tagModal","tabindex","-1","role","dialog","aria-labelledby","tagModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],["id","tagModalLabel",1,"modal-title"],[1,"col-md-12"],["type","text","placeholder","tag title","name","tag","id","tag",1,"form-control",3,"ngModel","keydown.enter","ngModelChange"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-save","bk-color-primary",3,"click"],[3,"innerHTML"],[1,"form-text","text-muted","ml-2"],["for","body",1,"control-label","font-weight-bold","h4"],["id","body",3,"editor","config","data","change"],[1,"col-md-9"],["name","gfdfsdf","bindLabel","title","bindValue","id",3,"items","multiple","ngModel","placeholder","change","ngModelChange"],[1,"d-flex","flex-row","align-items-center",2,"justify-content","center"],["id","questionBody",1,"question-body","pl-2"],[1,"tag","bk-color-primary"],[1,"fa","fa-spin","fa-spinner","btn-loading-bar"]],template:function(t,e){if(1&t&&(a.ac(0,"div",0),a.ac(1,"div",1),a.ac(2,"div",2),a.ac(3,"div",3),a.ac(4,"div",4),a.ac(5,"form",5),a.ac(6,"label",6),a.Ic(7," Paper Title"),a.ac(8,"small"),a.Ic(9,"(required)"),a.Zb(),a.Zb(),a.ac(10,"div",7),a.ac(11,"ng-autocomplete",8),a.hc("selected",function(t){return e.selectEvent(t)})("inputChanged",function(t){return e.onChangeSearch(t)})("inputFocused",function(t){return e.onFocused(t)})("ngModelChange",function(t){return e.question.title=t}),a.Zb(),a.Gc(12,ni,1,1,"ng-template",null,9,a.Hc),a.Gc(14,oi,1,1,"ng-template",null,10,a.Hc),a.Zb(),a.Gc(16,ri,2,0,"small",11),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.ac(17,"div",12),a.ac(18,"div",3),a.ac(19,"div",13),a.ac(20,"form",5),a.ac(21,"label",14),a.Ic(22," Name of Journal/Conference "),a.Zb(),a.ac(23,"input",15),a.hc("ngModelChange",function(t){return e.question.name=t}),a.Zb(),a.Zb(),a.Zb(),a.ac(24,"div",4),a.ac(25,"form",5),a.ac(26,"label",16),a.Ic(27," Year Of The Paper "),a.Zb(),a.ac(28,"input",17),a.hc("ngModelChange",function(t){return e.question.year=t}),a.Zb(),a.Zb(),a.Zb(),a.ac(29,"div",4),a.ac(30,"form",5),a.ac(31,"label",18),a.Ic(32," First Author's Name "),a.Zb(),a.ac(33,"input",19),a.hc("ngModelChange",function(t){return e.question.firstAuthorName=t}),a.Zb(),a.Zb(),a.Zb(),a.Gc(34,ci,6,6,"div",20),a.ac(35,"div",21),a.Gc(36,di,6,4,"div",22),a.ac(37,"button",23),a.Vb(38,"i",24),a.Ic(39," Create tag "),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.ac(40,"div",25),a.ac(41,"button",26),a.hc("click",function(){return e.questionPreview()}),a.Ic(42," Preview Your Request\u2003> "),a.Zb(),a.Zb(),a.Zb(),a.ac(43,"div",27),a.ac(44,"div",28),a.ac(45,"div",29),a.ac(46,"div",30),a.ac(47,"h5",31),a.Ic(48,"Request Preview"),a.Zb(),a.ac(49,"button",32),a.ac(50,"span",33),a.Ic(51,"\xd7"),a.Zb(),a.Zb(),a.Zb(),a.ac(52,"div",34),a.ac(53,"h3",35),a.Ic(54),a.Zb(),a.ac(55,"table",36),a.ac(56,"tr"),a.ac(57,"td"),a.Ic(58,"Journal/Conference"),a.Zb(),a.ac(59,"td",37),a.Ic(60),a.Zb(),a.Zb(),a.ac(61,"tr"),a.ac(62,"td"),a.Ic(63,"Year of the Paper"),a.Zb(),a.ac(64,"td",37),a.Ic(65),a.Zb(),a.Zb(),a.ac(66,"tr"),a.ac(67,"td"),a.Ic(68,"First Author's Name"),a.Zb(),a.ac(69,"td",37),a.Ic(70),a.Zb(),a.Zb(),a.Zb(),a.ac(71,"div",38),a.ac(72,"b"),a.Ic(73,"Description:"),a.Zb(),a.Gc(74,ui,2,0,"div",39),a.Zb(),a.ac(75,"div",40),a.Gc(76,li,3,1,"ng-container",41),a.Zb(),a.Zb(),a.ac(77,"div",42),a.ac(78,"button",43),a.Ic(79," Close "),a.Zb(),a.ac(80,"button",44),a.hc("click",function(){return e.submit()}),a.Ic(81," Save "),a.Gc(82,hi,1,0,"i",45),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.ac(83,"div",46),a.ac(84,"div",47),a.ac(85,"div",29),a.ac(86,"div",30),a.ac(87,"h5",48),a.Ic(88,"Creating Tag"),a.Zb(),a.ac(89,"button",32),a.ac(90,"span",33),a.Ic(91,"\xd7"),a.Zb(),a.Zb(),a.Zb(),a.ac(92,"div",34),a.ac(93,"div",49),a.ac(94,"input",50),a.hc("keydown.enter",function(){return e.createTag()})("ngModelChange",function(t){return e.tag.title=t}),a.Zb(),a.Zb(),a.Zb(),a.ac(95,"div",42),a.ac(96,"button",51),a.Ic(97," Close "),a.Zb(),a.ac(98,"button",52),a.hc("click",function(){return e.createTag()}),a.Ic(99," Save "),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb()),2&t){const t=a.zc(13),i=a.zc(15);a.Kb(5),a.rc("formGroup",e.form),a.Kb(6),a.rc("data",e.data)("searchKeyword",e.keyword)("itemTemplate",t)("notFoundTemplate",i)("ngModel",e.question.title),a.Kb(5),a.rc("ngIf",e.form.controls.title.touched&&e.form.controls.title.invalid),a.Kb(4),a.rc("formGroup",e.form),a.Kb(3),a.rc("ngModel",e.question.name),a.Kb(2),a.rc("formGroup",e.form),a.Kb(3),a.rc("ngModel",e.question.year)("max",e.getToday()),a.Kb(2),a.rc("formGroup",e.form),a.Kb(3),a.rc("ngModel",e.question.firstAuthorName),a.Kb(1),a.rc("ngIf",e.showEditor),a.Kb(2),a.rc("ngIf",e.showTags),a.Kb(18),a.Kc(" ",e.question.title," "),a.Kb(6),a.Kc(" ",e.question.name?e.question.name:""," "),a.Kb(5),a.Kc(" ",e.question.year?e.question.year:""," "),a.Kb(5),a.Kc(" ",e.question.firstAuthorName?e.question.firstAuthorName:""," "),a.Kb(4),a.rc("ngIf",e.showBody),a.Kb(2),a.rc("ngForOf",e.question.tagList),a.Kb(4),a.rc("disabled",e.loading),a.Kb(2),a.rc("ngIf",e.loading),a.Kb(12),a.rc("ngModel",e.tag.title)}},directives:[M.p,M.k,M.f,S.a,M.j,M.e,n.l,M.b,n.k,M.m,Je,ti.a],styles:[".col-md-12[_ngcontent-%COMP%]{margin:10px 0}.tag[_ngcontent-%COMP%]{background-color:#ababab;color:#000;padding:5px}.createTagBtn[_ngcontent-%COMP%], .questionPreviewbtn[_ngcontent-%COMP%]{display:flex;align-items:center;height:-webkit-fit-content!important;height:-moz-fit-content!important;height:fit-content!important;width:-webkit-fit-content!important;width:-moz-fit-content!important;width:fit-content!important;background-color:#1c6dd0!important;align-self:flex-end!important}.ck-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{background-color:#e2dfd8!important}.btn[_ngcontent-%COMP%]{min-width:120px!important}.card[_ngcontent-%COMP%]{border-radius:20px}.card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{background-color:#f5f5f5}.card-header[_ngcontent-%COMP%]{border-bottom:0 solid;border-radius:20px 20px 0 0}.question-body[_ngcontent-%COMP%]{width:84%;color:#7b7b7b}.question-status[_ngcontent-%COMP%]{width:15%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;text-align:center}.tag[_ngcontent-%COMP%]{background-color:#1c6dd0;color:#fff;margin:10px 5px;padding:2px 10px;border-radius:3px}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{color:#7b7b7b;padding-left:2rem}.ng-autocomplete[_ngcontent-%COMP%]{width:100%;display:table}"]}),t})();var fi,gi,mi,pi=i("ERGo"),vi=i("FpFp");(mi=fi||(fi={})).Action=class extends vi.a{constructor(){super(...arguments),this.tagList=[],this.seen=0,this.usefulCount=0}},mi.Tag=class extends vi.a{},function(t){let e;t.Action=class extends vi.a{constructor(){super(...arguments),this.isBestAnswer=!1,this.usefulCount=0,this.activeClass=!1,this.authorCheck=!1}},function(t){t[t.WAITING="WAITING"]="WAITING",t[t.FAILED="FAILED"]="FAILED",t[t.CONFIRMED="CONFIRMED"]="CONFIRMED"}(e=t.AnswerStatus||(t.AnswerStatus={}))}(gi||(gi={}));var wi=i("fKZb"),yi=i("+mmX"),Ii=i("z0FN");let Zi=(()=>{class t extends Ii.a{constructor(t){super(t),this.http=t,this.prefix="comment"}}return t.\u0275fac=function(e){return new(e||t)(a.ec(l.b))},t.\u0275prov=a.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var qi=i("clxB"),Ci=i("b6Qw"),Li=i("m4Yw"),_i=i("nSnJ");function ki(t,e){1&t&&(a.Yb(0),a.Ic(1," Your Presentation "),a.Xb())}function xi(t,e){1&t&&a.Ic(0," Edit your presentation ")}const Pi=function(){return["blockquote","bold","italic","heading"]},Oi=function(t){return{toolbar:t,placeholder:"Add a text with a maximum of 250 characters . . ."}};function Ai(t,e){if(1&t){const t=a.bc();a.ac(0,"div",42),a.ac(1,"ckeditor",43),a.hc("change",function(e){return a.Bc(t),a.kc().changeInBody(e)}),a.Zb(),a.Zb()}if(2&t){const t=a.kc();a.Kb(1),a.rc("editor",t.Editor2)("config",a.uc(4,Oi,a.tc(3,Pi)))("data",t.answer.body)}}function ji(t,e){1&t&&(a.ac(0,"div",46),a.Ic(1," The address of your video link is not valid. "),a.Zb())}function Mi(t,e){if(1&t){const t=a.bc();a.ac(0,"div",12),a.ac(1,"label",13),a.Ic(2,"Video Link (from YouTube): "),a.Zb(),a.ac(3,"input",44),a.hc("ngModelChange",function(e){return a.Bc(t),a.kc().answer.videoLink=e}),a.Zb(),a.Gc(4,ji,2,0,"div",45),a.Zb()}if(2&t){const t=a.kc();a.Kb(3),a.rc("ngModel",t.answer.videoLink),a.Kb(1),a.rc("ngIf",t.form.controls.videoLink.touched&&t.form.controls.videoLink.hasError("pattern"))}}function Ti(t,e){1&t&&a.Vb(0,"i",47)}function Si(t,e){if(1&t&&(a.ac(0,"div",48),a.Ic(1),a.Zb()),2&t){const t=a.kc();a.Kb(1),a.Kc(" ",t.answer.uploadedPresentation?t.uploadedFileName:""," ")}}function Ki(t,e){1&t&&a.Vb(0,"i",47)}let Ei=(()=>{class t{constructor(t,e,i,n){this.answerService=t,this.notifier=e,this.uploadPresentationService=i,this.fb=n,this.mode=j.a.ADD,this.answer=new gi.Action,this.createdAnswer=new a.q,this.Editor2=s,this.user=r.a.getLocalStorageUser(),this.showPreview=!1,this.actionMode=j.a,this.showBody=!1,this.loading=!1,this.form=n.group({videoLink:new M.d("",[M.o.pattern(_i.a.link)]),authorCheck:new M.d})}ngOnInit(){this.mode===this.actionMode.EDIT&&(this.answer.videoLink=""),setTimeout(()=>{this.showBody=!0},1e3)}onChange(t){this.loading=!0;let e=t.target.files[0];if(e.size<52428800){const t=new FormData;t.append("file",e,e.name),this.uploadPresentationService.uploadFile(t).subscribe(t=>{t&&t[0]&&(this.uploadedFilePath=t[0],this.loading=!1,this.uploadedFileName=e.name)},t=>{this.loading=!1})}else this.notifier.notify("error","Max File Size Exceeds")}submit(){this.answer.uploadedPresentation=this.uploadedFilePath,this.loading=!0,this.mode===j.a.ADD?(this.answer.creatorDisplayName=this.user.displayName,this.answerService.create(this.answer,{questionId:this.questionId}).subscribe(t=>{this.loading=!1,t&&t.id&&($("#closeAnswerModal").click(),this.notifier.notify("success","Operation has been finished successfully."),this.createdAnswer.emit(t))},t=>{this.loading=!1})):this.answerService.updateAnswer(this.answer,{questionId:this.questionId}).subscribe(t=>{this.loading=!1,t&&t.result&&($("#closeAnswerModal").click(),this.notifier.notify("success","Operation has been finished successfully."),this.createdAnswer.emit(this.answer))},t=>{this.loading=!1})}preview(){if(this.loading=!0,this.answer.uploadedPresentation=this.uploadedFilePath,!(null!=this.answer.videoLink&&""!==this.answer.videoLink.trim()&&0!==this.answer.videoLink.length||null!=this.answer.uploadedPresentation&&""!==this.answer.uploadedPresentation.trim()&&0!==this.answer.uploadedPresentation.length))return this.loading=!1,void this.notifier.notify("error","Must provide a presentation link or upload a presentation");if(null==this.answer.videoLink||""===this.answer.videoLink.trim()||0===this.answer.videoLink.length||this.changeVideoLink()){if(this.form.invalid)return this.loading=!1,void this.notifier.notify("error","Video link is not valid.");if(this.answer.videoLink){var t='<iframe  height="50vh" *ngIf="answer.videoLink" style="height: 50vh!important;" width="100%" src=\''+this.answer.videoLink+"' allowfullscreen></iframe>";$("#video-section").html(""),$("#video-section").append(t),this.loading=!1}this.loading=!0,$("#previewModal").modal("show"),this.showPreview=!0,this.loading=!1,document.getElementById("answer-body").innerHTML=this.answer.body?this.answer.body:""}else this.loading=!1}changeVideoLink(){return this.answer.videoLink.split("youtube").length<2?(this.notifier.notify("error","Dear "+this.user.displayName+", video link should be from youtube."),this.answer.videoLink="",!1):(this.answer.videoLink=this.answer.videoLink.replace("www.youtube","www.youtube-nocookie"),this.answer.videoLink=this.answer.videoLink.replace("watch?v=","embed/"),this.answer.videoLink.split("=").length>1&&(this.answer.videoLink=this.answer.videoLink.replace("&","?")),!0)}changeInBody(t){null===t.editor.getData()||void 0===t.editor.getData()||""===t.editor.getData().trim()||t.editor.getData().length>250?this.notifier.notify("error","You should enter answer body with 1 to 250 characters."):this.answer.body=t.editor.getData()}cancel(){this.createdAnswer.emit(null)}}return t.\u0275fac=function(e){return new(e||t)(a.Ub(yi.a),a.Ub(c.c),a.Ub(qi.a),a.Ub(M.c))},t.\u0275cmp=a.Ob({type:t,selectors:[["app-answer-action"]],inputs:{questionId:"questionId",mode:"mode",answer:"answer"},outputs:{createdAnswer:"createdAnswer"},decls:70,vars:14,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"row"],[1,"card-title","ml-3","font-weight-bolder","h3"],[4,"ngIf","ngIfElse"],["editTitle",""],[1,"card-body"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","d-flex","mt-2",3,"formGroup"],[2,"display","flex","flex-direction","column","width","100%"],["class","input-group mb-3",4,"ngIf"],[1,"input-group","mb-3"],[2,"min-width","fit-content","padding-top","7px"],[1,"custom-file"],["type","file","id","uploadedPresentation","accept","video/mp4,video/x-m4v,video/*",1,"custom-file-input","ml-5",3,"disabled","change"],["for","uploadedFilePath",1,"custom-file-label",2,"width","96%","margin-left","2em"],["class","fa fa-spin fa-spinner btn-loading-bar",4,"ngIf"],[2,"margin-left","13rem !important"],[1,"custom-checkbox",2,"display","flex"],["type","checkbox","id","authorCheck","formControlName","authorCheck","name","authorCheck",3,"ngModel","ngModelChange"],["for","iAmTheAuthor"],[1,"card-footer","text-muted","justify-content-center","d-flex","p-2"],["type","button",1,"btn","btn-save-lighter","bk-color-primary","mr-2",3,"click"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["id","previewModal","tabindex","-1","role","dialog","aria-labelledby","previewModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["role","document",1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"ml-4"],[1,"ml-3"],["id","answer-body"],[1,"ml-3",2,"color","#7b7b7b"],["class","col-md-12","style","color: #7b7b7b",4,"ngIf"],["id","video-section",1,"col-md-12","video-section"],[1,"modal-footer"],["type","button","id","closeAnswerModal","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-save",3,"disabled","click"],[1,"col-md-12"],[3,"editor","config","data","change"],["name","title","id","title","placeholder","Add the video link from YouTube here","formControlName","videoLink",1,"form-control","ml-2",3,"ngModel","ngModelChange"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[1,"fa","fa-spin","fa-spinner","btn-loading-bar"],[1,"col-md-12",2,"color","#7b7b7b"]],template:function(t,e){if(1&t&&(a.ac(0,"div",0),a.ac(1,"div",1),a.ac(2,"div",2),a.ac(3,"div",3),a.ac(4,"div",4),a.Gc(5,ki,2,0,"ng-container",5),a.Gc(6,xi,1,0,"ng-template",null,6,a.Hc),a.Zb(),a.Zb(),a.Zb(),a.ac(8,"div",7),a.ac(9,"div",3),a.Gc(10,Ai,2,6,"div",8),a.ac(11,"form",9),a.ac(12,"div",10),a.Gc(13,Mi,5,2,"div",11),a.ac(14,"div",12),a.ac(15,"label",13),a.Ic(16,"Upload a Presentation: "),a.Zb(),a.ac(17,"div",14),a.ac(18,"input",15),a.hc("change",function(t){return e.onChange(t)}),a.Zb(),a.ac(19,"label",16),a.Ic(20,"Choose file "),a.ac(21,"small"),a.Ic(22,"(Max size is 50mb)"),a.Zb(),a.Gc(23,Ti,1,0,"i",17),a.Zb(),a.Zb(),a.Zb(),a.ac(24,"div",18),a.Ic(25),a.Zb(),a.ac(26,"div",12),a.Vb(27,"label",13),a.ac(28,"div",19),a.ac(29,"div"),a.ac(30,"input",20),a.hc("ngModelChange",function(t){return e.answer.authorCheck=t}),a.Zb(),a.Zb(),a.ac(31,"div"),a.ac(32,"label",21),a.Ic(33," \xa0 I am the author "),a.ac(34,"small"),a.Ic(35,"(optional)"),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.ac(36,"div",22),a.ac(37,"button",23),a.hc("click",function(){return e.preview()}),a.Ic(38," Preview Your Presentation >> "),a.Zb(),a.ac(39,"button",24),a.hc("click",function(){return e.cancel()}),a.Ic(40," Cancel "),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.ac(41,"div",25),a.ac(42,"div",26),a.ac(43,"div",27),a.ac(44,"div",28),a.ac(45,"h5",29),a.Ic(46,"Answer Preview"),a.Zb(),a.ac(47,"button",30),a.ac(48,"span",31),a.Ic(49,"\xd7"),a.Zb(),a.Zb(),a.Zb(),a.ac(50,"div",32),a.ac(51,"table",33),a.ac(52,"tr"),a.ac(53,"td",34),a.Vb(54,"div",35),a.Zb(),a.Zb(),a.ac(55,"tr"),a.ac(56,"td"),a.Ic(57,"I am Author: "),a.Zb(),a.ac(58,"td",36),a.Ic(59),a.Zb(),a.Zb(),a.Zb(),a.ac(60,"div",33),a.Ic(61),a.Zb(),a.Gc(62,Si,2,1,"div",37),a.Vb(63,"div",38),a.Zb(),a.ac(64,"div",39),a.ac(65,"button",40),a.Ic(66," Close "),a.Zb(),a.ac(67,"button",41),a.hc("click",function(){return e.submit()}),a.Ic(68," Save "),a.Gc(69,Ki,1,0,"i",17),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb()),2&t){const t=a.zc(7);a.Kb(5),a.rc("ngIf",e.mode===e.actionMode.ADD)("ngIfElse",t),a.Kb(5),a.rc("ngIf",e.showBody),a.Kb(1),a.rc("formGroup",e.form),a.Kb(2),a.rc("ngIf",!e.uploadedFilePath),a.Kb(5),a.rc("disabled",e.answer.videoLink),a.Kb(5),a.rc("ngIf",e.loading),a.Kb(2),a.Kc(" ",e.uploadedFileName," "),a.Kb(5),a.rc("ngModel",e.answer.authorCheck),a.Kb(29),a.Kc(" ",e.answer.authorCheck?"Yes":"No"," "),a.Kb(2),a.Kc(" ",e.uploadedFileName?"Uploaded Video Name:":""," "),a.Kb(1),a.rc("ngIf",e.uploadedFileName),a.Kb(5),a.rc("disabled",e.loading),a.Kb(2),a.rc("ngIf",e.loading)}},directives:[n.l,M.p,M.k,M.f,M.a,M.j,M.e,Je,M.b],styles:[""]}),t})();function Ni(t,e){if(1&t&&(a.Yb(0),a.ac(1,"p",43),a.Ic(2),a.Zb(),a.Xb()),2&t){const t=e.$implicit;a.Kb(2),a.Jc(t.title)}}function Di(t,e){if(1&t){const t=a.bc();a.ac(0,"i",46),a.hc("click",function(){return a.Bc(t),a.kc(2).areYouSure("question")}),a.Ic(1,"delete"),a.Zb()}}const Bi=function(){return["/panel/question/action"]},Fi=function(t,e){return{mode:t,objectId:e}};function Ri(t,e){if(1&t&&(a.Yb(0),a.ac(1,"i",44),a.Ic(2,"edit"),a.Zb(),a.Gc(3,Di,2,0,"i",45),a.Xb()),2&t){const t=a.kc();a.Kb(1),a.rc("routerLink",a.tc(3,Bi))("queryParams",a.vc(4,Fi,t.actionMode.EDIT,t.question.id)),a.Kb(2),a.rc("ngIf",t.checkDeletePermission())}}function Ui(t,e){if(1&t&&(a.ac(0,"div",54),a.ac(1,"div",55),a.ac(2,"P",56),a.Ic(3),a.Zb(),a.ac(4,"p",57),a.Ic(5),a.lc(6,"date"),a.Zb(),a.Zb(),a.ac(7,"p",58),a.Ic(8),a.Zb(),a.Zb()),2&t){const t=e.index,i=a.kc(2);a.Kb(3),a.Kc("",i.commentsList[t].userName," "),a.Kb(2),a.Kc(" ",a.mc(6,3,i.commentsList[t].systemCreationDate)," "),a.Kb(3),a.Jc(i.commentsList[t].description)}}function Gi(t,e){if(1&t){const t=a.bc();a.ac(0,"div",59),a.ac(1,"pagination-controls",60),a.hc("pageChange",function(e){return a.Bc(t),a.kc(2).onCommentsPageChange(e)}),a.Zb(),a.Zb()}if(2&t){const t=a.kc(2);a.Kb(1),a.rc("id",t.commentsConfig.id)("previousLabel","Previous")("nextLabel","Next")("screenReaderPaginationLabel","Next page")("screenReaderPageLabel","Page")("screenReaderCurrentLabel","Current page")}}const Vi=function(t,e,i,n){return{id:t,itemsPerPage:e,currentPage:i,totalItems:n}};function Wi(t,e){if(1&t){const t=a.bc();a.ac(0,"div",47),a.ac(1,"div",48),a.ac(2,"div",49),a.Gc(3,Ui,9,5,"div",50),a.lc(4,"paginate"),a.Gc(5,Gi,2,6,"div",51),a.ac(6,"div",14),a.ac(7,"i",52),a.hc("click",function(){return a.Bc(t),a.kc().addNewComment()}),a.Zb(),a.ac(8,"input",53),a.hc("ngModelChange",function(e){return a.Bc(t),a.kc().question.commentToBeAdd=e})("keyup.enter",function(){return a.Bc(t),a.kc().addNewComment()}),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb()}if(2&t){const t=a.kc();a.Kb(3),a.rc("ngForOf",a.nc(4,3,t.commentsList,a.xc(6,Vi,t.commentsConfig.id,t.commentsConfig.itemsPerPage,t.commentsConfig.currentPage,t.totalCommentsCount))),a.Kb(2),a.rc("ngIf",0!=t.totalCommentsCount),a.Kb(3),a.rc("ngModel",t.question.commentToBeAdd)}}function Yi(t,e){if(1&t){const t=a.bc();a.ac(0,"app-answer-action",61),a.hc("createdAnswer",function(e){return a.Bc(t),a.kc().newAnswer(e)}),a.Zb()}if(2&t){const t=a.kc();a.rc("mode",t.mode)("questionId",t.question.id)("answer",t.selectedAnswer)}}function zi(t,e){if(1&t&&(a.ac(0,"div",78),a.Vb(1,"div",79),a.Zb()),2&t){const t=a.kc().$implicit;a.Kb(1),a.rc("id","upload-file-"+t.id)}}function $i(t,e){if(1&t){const t=a.bc();a.ac(0,"i",80),a.hc("click",function(){a.Bc(t);const e=a.kc().$implicit;return a.kc(2).downloadVideo(e.uploadedPresentation)}),a.Ic(1," Download"),a.Zb()}}function Hi(t,e){if(1&t){const t=a.bc();a.ac(0,"i",83),a.hc("click",function(){a.Bc(t);const e=a.kc(2).$implicit;return a.kc(2).editAnswer(e)}),a.Ic(1," edit"),a.Zb()}}function Qi(t,e){if(1&t){const t=a.bc();a.Yb(0),a.Gc(1,Hi,2,0,"i",81),a.ac(2,"i",82),a.hc("click",function(){a.Bc(t);const e=a.kc().$implicit;return a.kc(2).areYouSure(e.id)}),a.Ic(3," delete"),a.Zb(),a.Xb()}if(2&t){const t=a.kc().$implicit;a.Kb(1),a.rc("ngIf",!t.uploadedPresentation)}}const Ji=function(t){return{color:t}};function Xi(t,e){if(1&t){const t=a.bc();a.ac(0,"div",64),a.ac(1,"div",65),a.Vb(2,"div",66),a.Gc(3,zi,2,1,"div",67),a.ac(4,"div",68),a.Vb(5,"div",69),a.Zb(),a.ac(6,"div",14),a.ac(7,"div",70),a.Gc(8,$i,2,0,"i",71),a.Gc(9,Qi,4,1,"ng-container",17),a.Vb(10,"i",72),a.ac(11,"i",73),a.hc("click",function(){a.Bc(t);const i=e.$implicit;return a.kc(2).updateAnswerUsefulCount(i.id)}),a.Ic(12),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.ac(13,"div",74),a.ac(14,"div"),a.ac(15,"p",75),a.Ic(16),a.lc(17,"date"),a.Zb(),a.ac(18,"p",75),a.Ic(19),a.Zb(),a.Zb(),a.Vb(20,"div",76),a.ac(21,"div",76),a.ac(22,"p",77),a.Ic(23),a.Zb(),a.Zb(),a.Zb(),a.Zb()}if(2&t){const t=e.$implicit,i=a.kc(2);a.Kb(2),a.rc("id","answer-body-"+t.id),a.Kb(1),a.rc("ngIf",t.uploadedPresentation),a.Kb(2),a.rc("id","video-"+t.id),a.Kb(3),a.rc("ngIf",t.uploadedPresentation),a.Kb(1),a.rc("ngIf",i.user&&i.user.id&&i.user.id===t.creatorId&&!i.hasBestAnswer),a.Kb(1),a.rc("ngStyle",a.uc(12,Ji,i.reportIssueCheck?"red":"#6c757d")),a.Kb(2),a.Kc(" ",t.usefulCount,""),a.Kb(4),a.Jc(a.mc(17,10,t.systemCreationDate)),a.Kb(3),a.Jc(t.authorCheck?"I am author":""),a.Kb(4),a.Kc("by: ",t.creatorDisplayName,"")}}function tn(t,e){if(1&t){const t=a.bc();a.ac(0,"div"),a.Gc(1,Xi,24,14,"div",62),a.lc(2,"paginate"),a.ac(3,"div",63),a.ac(4,"pagination-controls",60),a.hc("pageChange",function(e){return a.Bc(t),a.kc().onPageChange(e)}),a.Zb(),a.Zb(),a.Zb()}if(2&t){const t=a.kc();a.Kb(1),a.rc("ngForOf",a.nc(2,7,t.answerList,a.xc(10,Vi,t.config.id,t.config.itemsPerPage,t.config.currentPage,t.totalCount))),a.Kb(3),a.rc("id",t.config.id)("previousLabel","Previous")("nextLabel","Next")("screenReaderPaginationLabel","Next page")("screenReaderPageLabel","Page")("screenReaderCurrentLabel","Current page")}}function en(t,e){1&t&&a.Vb(0,"i",84)}function nn(t,e){if(1&t){const t=a.bc();a.ac(0,"div",85),a.ac(1,"form"),a.ac(2,"div",86),a.ac(3,"label",87),a.Ic(4,"Please write your issue"),a.ac(5,"small"),a.Ic(6,"(Required)"),a.Zb(),a.Zb(),a.ac(7,"textarea",88),a.hc("ngModelChange",function(e){return a.Bc(t),a.kc().issue=e}),a.Zb(),a.Zb(),a.Zb(),a.Zb()}if(2&t){const t=a.kc();a.Kb(7),a.rc("ngModel",t.issue)}}function on(t,e){1&t&&(a.ac(0,"div",85),a.ac(1,"h4"),a.Ic(2,"This presentation has been reported irrelevent!."),a.Zb(),a.Zb())}function rn(t,e){if(1&t){const t=a.bc();a.ac(0,"button",89),a.hc("click",function(){a.Bc(t);const e=a.kc();return e.createReportIssueHandle(e.issue)}),a.Ic(1," Submit "),a.Zb()}if(2&t){const t=a.kc();a.rc("disabled",!t.issue)}}const sn=function(t,e){return{"green-border":t,"red-border":e}},an=function(t,e){return{"color-green":t,"color-red":e}},cn=[{path:"list",component:O},{path:"action",component:bi,canActivate:[pi.a]},{path:"details",component:(()=>{class t{constructor(t,e,i,n,o,a,c,d,u,l,h){this.activatedRoute=t,this.reportIssueService=e,this.answerService=i,this.commentService=n,this.notifier=o,this.location=a,this.uploadPresentationService=c,this.questionService=d,this.cookieService=u,this.ccService=l,this.router=h,this.Editor=s,this.question=new A.a.Action,this.showBody=!1,this.showAnswerForm=!1,this.user=r.a.getLocalStorageUser(),this.selectedAnswerForDelete="",this.selectedAnswer=new gi.Action,this.mode=j.a.ADD,this.actionMode=j.a,this.hasBestAnswer=!1,this.answerList=[],this.commentsList=[],this.reportIssue=new fi.Action,this.commentsConfig={id:"commentsList",itemsPerPage:3,currentPage:1},this.config={id:"customerList",itemsPerPage:2,currentPage:1},this.page=1,this.commentsPage=1,this.totalCount=0,this.totalCommentsCount=0,this.canAnswer=!0,this.deleteLoading=!1,this.showMyAnswer=!1,this.borderColor=!1,this.cookieConfig={cookie:{domain:"localhost"},palette:{popup:{background:"#000"},button:{background:"#f1d600"}},theme:"edgeless",type:"opt-out"},this.question.id=t.snapshot.queryParams.objectId,this.showMyAnswer="myAnswer"===t.snapshot.queryParams.mode}ngOnInit(){void 0!==this.question.id&&(this.reportIssueService.getOne(this.question.id).subscribe(t=>{t&&t.id?""!=t.id&&(this.reportIssueCheck=!0):this.reportIssueCheck=!1}),this.questionService.forShow(this.question.id).subscribe(t=>{t&&t.id&&(this.question=t,this.showBody=!0,this.borderColor="WITHPRESENTATION"==this.question.questionStatus,document.getElementById("questionBody").innerHTML=this.question.body,-1!==this.question.answerList.findIndex(t=>!0===t.isBestAnswer)&&(this.hasBestAnswer=!0),this.user&&this.user.id?-1!==this.question.answerList.findIndex(t=>t.creatorId===this.user.id)&&(this.canAnswer=!1):this.canAnswer=!1,this.question.answerList.sort(function(t,e){return Number(e.isBestAnswer)-Number(t.isBestAnswer)}),t.answerList&&t.answerList.length&&(this.totalCount=t.answerList.length,this.sortAnswerAndCreateVideos(1..toFixed())),this.sortComments(1))}))}sortAnswerAndCreateVideos(t){this.answerList=[],this.config.currentPage=t,this.page=t;for(var e=-1,i=(t-1)*this.config.itemsPerPage;i<t*this.config.itemsPerPage;i++)this.question.answerList[i]&&this.question.answerList[i].videoLink&&(this.answerList.push(this.question.answerList[i]),setTimeout(()=>{if(e++,this.answerList[e].videoLink)if("allow"===this.cookieService.get("cookieconsent_status")){var t='<iframe  height="50vh" style="height: 50vh!important;" width="100%" id=\'frame-'+this.answerList[e].id+"' src='"+this.answerList[e].videoLink+"' allowfullscreen></iframe>";$("#video-"+this.answerList[e].id).append(t),document.getElementById("answer-body-"+this.answerList[e].id).innerHTML=this.answerList[e].body?this.answerList[e].body:""}else this.ccService.init(this.cookieConfig)},300)),this.question.answerList[i]&&this.question.answerList[i].uploadedPresentation&&(this.answerList.push(this.question.answerList[i]),i%2==0&&e++,1==Math.abs(i%2)?setTimeout(()=>{if(this.answerList[i]){var t=this.answerList[i-1].uploadedPresentation.split("\\")[3];$("#upload-file-"+this.answerList[i-1].id).append(t),document.getElementById("answer-body-"+this.answerList[i-1].id).innerHTML=this.answerList[i-1].body?this.answerList[i-1].body:""}else t=this.question.answerList[i-1].uploadedPresentation.split("\\")[3],$("#upload-file-"+this.question.answerList[i-1].id).append(t),document.getElementById("answer-body-"+this.question.answerList[i-1].id).innerHTML=this.question.answerList[i-1].body?this.question.answerList[i-1].body:""},300):setTimeout(()=>{var t=this.answerList[e].uploadedPresentation.split("\\")[3];$("#upload-file-"+this.answerList[e].id).append(t),document.getElementById("answer-body-"+this.answerList[e].id).innerHTML=this.answerList[e].body?this.answerList[e].body:""},200))}sortComments(t){this.totalCommentsCount=this.question.commentList.length,this.commentsList=[],this.commentsConfig.currentPage=t,this.commentsPage=t;for(var e=(t-1)*this.commentsConfig.itemsPerPage;e<t*this.commentsConfig.itemsPerPage&&e<this.question.commentList.length;e++)this.commentsList.push(this.question.commentList[e])}newAnswer(t){t&&t.id?(this.canAnswer=!1,-1!==this.question.answerList.findIndex(e=>e.id===t.id)?(this.question.answerList.find(e=>e.id===t.id).body=t.body,this.question.answerList.find(e=>e.id===t.id).videoLink=t.videoLink):(this.question.answerList.push(t),this.totalCount=this.question.answerList.length),this.onPageChange(this.page),this.showAnswerForm=!1,this.selectedAnswer=new gi.Action,this.question.questionStatus=A.a.QuestionStatus.WITHPRESENTATION,this.borderColor=!0):(this.onPageChange(this.page),this.showAnswerForm=!1,this.selectedAnswer=new gi.Action),this.mode=j.a.ADD}selectingAnswer(t){this.questionService.updateBestAnswer(this.question.id,t).subscribe(e=>{e&&e.result&&(this.question.answerList.find(e=>e.id===t).isBestAnswer=!0,this.answerList.find(e=>e.id===t).isBestAnswer=!0,this.hasBestAnswer=!0)})}updateAnswerUsefulCount(t){this.user&&this.user.id?this.answerService.updateUsefulCount(this.question.id,t).subscribe(e=>{e&&e.result?this.answerList.find(e=>e.id===t).usefulCount++:this.answerList.find(e=>e.id===t).usefulCount--}):this.notifier.notify("error","Please sign in to be able to mark an answer as useful.")}updateQuestionUsefulCount(){this.user&&this.user.id?this.questionService.updateUsefulCount(this.question.id).subscribe(t=>{t&&t.result?this.question.usefulCount++:this.question.usefulCount--}):this.notifier.notify("error","Please sign in to be able to mark an answer as useful.")}addNewAnswer(){r.a.getLocalStorageUser()&&r.a.getLocalStorageUser().id?(this.mode=j.a.ADD,this.showAnswerForm=!0,window.scrollTo(0,400)):this.notifier.notify("warning","Please sign in to answer the questions.")}addNewComment(){if(r.a.getLocalStorageUser()&&r.a.getLocalStorageUser().id){if(void 0===this.question.commentList&&(this.question.commentList=[]),null==this.question.commentToBeAdd||""===this.question.commentToBeAdd.trim()||this.question.commentToBeAdd.length>250)return void this.notifier.notify("error","Your comment can have a maximum of 250 characters.");if(void 0!==this.question.commentToBeAdd&&""!==this.question.commentToBeAdd){var t=new A.a.Comment;t.creator=this.user,t.userName=this.user.displayName,t.description=this.question.commentToBeAdd,t.creatorId=this.user.id,t.questionId=this.question.id,t.systemCreationDate=new Date,this.question.commentToBeAdd="",this.question.commentList.push(t),this.sortComments(1),this.commentService.create(t).subscribe(t=>{t&&t.id&&this.notifier.notify("success","Your comment was successfully added.")},t=>{})}}else this.notifier.notify("warning","Please sign in to comment on the questions.")}downloadVideo(t){this.uploadPresentationService.getFileBytes(t).then(e=>{if(200===e.status&&e.status){var i=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=i;var o=t.split("\\");n.setAttribute("download",o[3]),n.click()}})}editAnswer(t){this.mode=j.a.EDIT,this.selectedAnswer=t,this.showAnswerForm=!0,window.scrollTo(0,400)}areYouSure(t){this.selectedAnswerForDelete=t,$("#areYouSureModal").modal("show")}doDelete(){this.deleteLoading=!0,"question"!==this.selectedAnswerForDelete?this.answerService.deleteOne(this.selectedAnswerForDelete,{questionId:this.question.id}).subscribe(t=>{this.deleteLoading=!1,t&&t.result&&(this.question.answerList=this.question.answerList.filter(t=>t.id!==this.selectedAnswerForDelete),this.answerList=[],this.canAnswer=-1===this.question.answerList.findIndex(t=>t.creatorId===this.user.id),$("#closeAreYouSureModal").click(),setTimeout(()=>{this.question.answerList.length%2==0?(this.onPageChange(this.page-1),this.totalCount=this.question.answerList.length):this.onPageChange(this.page)},500),this.selectedAnswerForDelete="",0===this.question.answerList.length&&(this.question.questionStatus=A.a.QuestionStatus.NOPRESENTATIONYET,this.borderColor=!1),this.routeToQuestionListWithTagRefresh(),this.reportIssueCheck=!1)},t=>{this.deleteLoading=!1}):this.questionService.deleteOne(this.question.id).subscribe(t=>{this.deleteLoading=!1,t&&t.result&&($("#closeAreYouSureModal").click(),this.location.back())},t=>{this.deleteLoading=!1})}routeToQuestionListWithTagRefresh(){let t="/question/details?objectId="+this.question.id;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigateByUrl(t)}createReportIssueHandle(t){this.reportIssue.issue=t,this.reportIssue.paperId=this.question.id,this.reportIssue.videoId=this.question.answerList[0].id,this.reportIssue.title=this.question.title,this.reportIssue.creatorDisplayName=this.question.creatorDisplayName,this.reportIssue.questionStatus=this.question.questionStatus,this.reportIssue.seen=this.question.seen,this.reportIssue.usefulCount=this.question.usefulCount,this.reportIssue.date=this.question.systemCreationDate,this.reportIssue.tagList=this.question.tagList,this.mode===j.a.ADD&&this.reportIssueService.create(this.reportIssue).subscribe(t=>{t&&t.id&&(this.reportIssueCheck=!0,$("#closeReportModel").click(),this.notifier.notify("success","Your report against presentation was successfully added."))},t=>{})}onPageChange(t){this.config.currentPage=t,this.sortAnswerAndCreateVideos(this.config.currentPage)}onCommentsPageChange(t){this.commentsConfig.currentPage=t,this.sortComments(t)}checkDeletePermission(){if(this.user.id===this.question.creatorId&&0===this.question.answerList.length)return!0;let t=!1;if(this.user.id===this.question.creatorId&&this.question.answerList.length>0){for(const e of this.question.answerList){if(this.user.id!==e.creatorId)return!1;t=!0}return t}return!1}}return t.\u0275fac=function(e){return new(e||t)(a.Ub(o.a),a.Ub(wi.a),a.Ub(yi.a),a.Ub(Zi),a.Ub(c.c),a.Ub(n.h),a.Ub(qi.a),a.Ub(d.a),a.Ub(Ci.a),a.Ub(Li.b),a.Ub(o.b))},t.\u0275cmp=a.Ob({type:t,selectors:[["app-question-details"]],decls:72,vars:29,consts:[[1,"container","p-3"],[1,"card",3,"ngClass"],[1,"d-flex","justify-content-between","pt-2"],[1,"d-flex","flex-row","ml-2"],[1,"fa","color-bale","fa-eye"],[1,"fa","color-bale"],[1,"color-bale","date","mr-2"],[1,"d-flex","flex-row","align-items-center"],[1,"d-flex","flex-column","question-body","pl-3"],[1,"color-primary","font-weight-bold","pl-2"],[1,"pl-3"],["id","questionBody"],[1,"question-status","font-weight-bold",3,"ngClass"],[1,"form-inline","justify-content-between"],[1,"d-flex"],[4,"ngFor","ngForOf"],[1,"text-muted","d-flex","pr-2","ml-auto"],[4,"ngIf"],[1,"fa","fa-thumbs-up","mr-4",3,"click"],[2,"width","10%"],[1,"mb-0","text-right","pr-2","text-muted"],[1,"d-flex","justify-content-center","p-2"],["type","button",1,"btn","btn-save-lighter","bk-color-primary",3,"click"],["class","card-body",4,"ngIf"],[1,"border-white"],[1,"text-center","color-primary","font-weight-bold"],[3,"mode","questionId","answer","createdAnswer",4,"ngIf"],["id","areYouSureModal","tabindex","-1","role","dialog","aria-labelledby","tagModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","tagModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-footer"],["type","button","id","closeAreYouSureModal","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-save",3,"disabled","click"],["class","fa fa-spin fa-spinner btn-loading-bar",4,"ngIf"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],["class","modal-body",4,"ngIf"],["type","button","data-dismiss","modal","id","closeReportModel",1,"btn","btn-danger"],["type","button","class","btn btn-save bk-color-primary",3,"disabled","click",4,"ngIf"],[1,"tag","bk-color-primary"],[1,"fa","fa-edit","text-muted","cursor-pointer",3,"routerLink","queryParams"],["class","fa fa-trash text-muted cursor-pointer",3,"click",4,"ngIf"],[1,"fa","fa-trash","text-muted","cursor-pointer",3,"click"],[1,"card-body"],[1,"col-md-12"],[1,"d-flex","flex-column"],["class","d-flex flex-row",4,"ngFor","ngForOf"],["class","has-text-centered d-flex flex-row-reverse",4,"ngIf"],[1,"fa","fa-commenting-o",3,"click"],["type","text","placeholder","You can add your comment here. Please notice that the comments can not be edited or deleted.",1,"comment",3,"ngModel","ngModelChange","keyup.enter"],[1,"d-flex","flex-row"],[1,"mr-4","d-flex",2,"min-width","fit-content"],[1,"mb-0","color-primary","text-center","mr-2"],[1,"color-bale","text-center"],[1,"color-bale"],[1,"has-text-centered","d-flex","flex-row-reverse"],[3,"id","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel","pageChange"],[3,"mode","questionId","answer","createdAnswer"],["class","card flex-row",4,"ngFor","ngForOf"],[1,"has-text-centered"],[1,"card","flex-row"],[1,"d-flex","flex-column","w-100"],[1,"ml-2",3,"id"],["style","margin-top: 1rem ;",4,"ngIf"],[1,"d-flex","submenu","justify-content-center","mt-3",2,"height","auto"],[1,"row",3,"id"],[1,"ml-auto","mb-1"],["class","fa fa-download m-1 text-muted cursor-pointer mr-2",3,"click",4,"ngIf"],["data-toggle","modal","data-target","#exampleModal",1,"fa","fa-flag","mr-4",3,"ngStyle"],[1,"fa","fa-thumbs-up","text-muted","cursor-pointer","m1","mr-5",3,"click"],[1,"left-panel","d-flex","flex-column","justify-content-between","mr-1"],[1,"text-muted"],[1,""],[1,"text-muted","mb-1"],[2,"margin-top","1rem"],[1,"ml-1",3,"id"],[1,"fa","fa-download","m-1","text-muted","cursor-pointer","mr-2",3,"click"],["class","fa fa-edit m-1 text-muted cursor-pointer mr-2",3,"click",4,"ngIf"],[1,"fa","fa-trash","m-1","text-muted","cursor-pointer","mr-2",3,"click"],[1,"fa","fa-edit","m-1","text-muted","cursor-pointer","mr-2",3,"click"],[1,"fa","fa-spin","fa-spinner","btn-loading-bar"],[1,"modal-body"],[1,"form-group"],["for","exampleFormControlTextarea1"],["id","exampleFormControlTextarea1","rows","2","name","issue",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-save","bk-color-primary",3,"disabled","click"]],template:function(t,e){1&t&&(a.ac(0,"div",0),a.ac(1,"div",1),a.ac(2,"div",2),a.ac(3,"div",3),a.Vb(4,"i",4),a.ac(5,"p",5),a.Ic(6),a.Zb(),a.Zb(),a.ac(7,"p",6),a.Ic(8),a.lc(9,"date"),a.Zb(),a.Zb(),a.ac(10,"div",7),a.ac(11,"div",8),a.ac(12,"h3",9),a.Ic(13),a.Zb(),a.ac(14,"h5",10),a.Ic(15),a.Zb(),a.ac(16,"h5",10),a.Ic(17),a.Zb(),a.ac(18,"h5",10),a.Ic(19),a.Zb(),a.Vb(20,"div",11),a.Zb(),a.ac(21,"p",12),a.Ic(22),a.Zb(),a.Zb(),a.ac(23,"div",13),a.ac(24,"div",14),a.Gc(25,Ni,3,1,"ng-container",15),a.Zb(),a.ac(26,"div",16),a.Gc(27,Ri,4,7,"ng-container",17),a.ac(28,"i",18),a.hc("click",function(){return e.updateQuestionUsefulCount()}),a.Ic(29),a.Zb(),a.Zb(),a.ac(30,"div",19),a.ac(31,"p",20),a.Ic(32),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.ac(33,"div",21),a.ac(34,"button",22),a.hc("click",function(){return e.addNewAnswer()}),a.Ic(35," I have a presentation for this paper "),a.Zb(),a.Zb(),a.Gc(36,Wi,9,11,"div",23),a.Vb(37,"hr",24),a.ac(38,"h2",25),a.Ic(39,"Presentations"),a.Zb(),a.Gc(40,Yi,1,3,"app-answer-action",26),a.Gc(41,tn,5,15,"div",17),a.ac(42,"div",27),a.ac(43,"div",28),a.ac(44,"div",29),a.ac(45,"div",30),a.ac(46,"h5",31),a.Ic(47,"Are you sure?"),a.Zb(),a.ac(48,"button",32),a.ac(49,"span",33),a.Ic(50,"\xd7"),a.Zb(),a.Zb(),a.Zb(),a.ac(51,"div",34),a.ac(52,"button",35),a.hc("click",function(){return e.selectedAnswerForDelete=""}),a.Ic(53," Cancel "),a.Zb(),a.ac(54,"button",36),a.hc("click",function(){return e.doDelete()}),a.Ic(55," Delete answer "),a.Gc(56,en,1,0,"i",37),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.ac(57,"div",38),a.ac(58,"div",28),a.ac(59,"div",29),a.ac(60,"div",30),a.ac(61,"h5",39),a.Ic(62,"Report"),a.Zb(),a.ac(63,"button",32),a.ac(64,"span",33),a.Ic(65,"\xd7"),a.Zb(),a.Zb(),a.Zb(),a.Gc(66,nn,8,1,"div",40),a.Gc(67,on,3,0,"div",40),a.ac(68,"div",34),a.ac(69,"button",41),a.Ic(70," Close "),a.Zb(),a.Gc(71,rn,2,1,"button",42),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb()),2&t&&(a.Kb(1),a.rc("ngClass",a.vc(23,sn,e.borderColor,!e.borderColor)),a.Kb(5),a.Jc(e.question.seen),a.Kb(2),a.Kc(" ",a.mc(9,21,e.question.systemCreationDate)," "),a.Kb(5),a.Kc(" ",e.question.title," "),a.Kb(2),a.Kc(" ",e.question.firstAuthorName," "),a.Kb(2),a.Kc(" ",e.question.name," "),a.Kb(2),a.Kc(" ",e.question.year," "),a.Kb(2),a.rc("ngClass",a.vc(26,an,e.showBody&&e.borderColor,e.showBody&&!e.borderColor)),a.Kb(1),a.Kc(" ","WITHPRESENTATION"===e.question.questionStatus?"With Presentation":"NOPRESENTATIONYET"===e.question.questionStatus?"No Presentation Yet":"Closed"," "),a.Kb(3),a.rc("ngForOf",e.question.tagList),a.Kb(2),a.rc("ngIf",e.user&&e.user.id&&e.user.id===e.question.creatorId),a.Kb(2),a.Kc(" ",e.question.usefulCount,""),a.Kb(3),a.Kc(" by ",e.question.creatorDisplayName," "),a.Kb(4),a.rc("ngIf",e.showBody),a.Kb(4),a.rc("ngIf",e.showAnswerForm),a.Kb(1),a.rc("ngIf",!e.showAnswerForm),a.Kb(13),a.rc("disabled",e.deleteLoading),a.Kb(2),a.rc("ngIf",e.deleteLoading),a.Kb(10),a.rc("ngIf",!e.reportIssueCheck),a.Kb(1),a.rc("ngIf",e.reportIssueCheck),a.Kb(4),a.rc("ngIf",!e.reportIssueCheck))},directives:[n.j,n.k,n.l,o.c,M.b,M.j,M.m,b.c,Ei,n.m,M.p,M.k,M.l],pipes:[n.d,b.b],styles:[".tag[_ngcontent-%COMP%]{background-color:#8a8d90!important;color:#fff;margin:10px 5px;padding:2px 10px;border-radius:3px}.best-card[_ngcontent-%COMP%]{background-color:rgba(20,139,20,.25)}.btn[_ngcontent-%COMP%]{min-width:120px!important}.video-img[_ngcontent-%COMP%]{background-color:#f7f7f7;border-radius:20px}.video-img[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:100px}.question-body[_ngcontent-%COMP%]{width:87%;color:#7b7b7b}.question-status[_ngcontent-%COMP%]{width:16%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;text-align:center}.red-border[_ngcontent-%COMP%]{border:1px solid #dc3545;border-radius:15px}.green-border[_ngcontent-%COMP%]{border:2px solid #28a745;border-radius:15px}.date[_ngcontent-%COMP%]{min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.comment[_ngcontent-%COMP%]{background-color:#e8eaee;border:0 solid;border-bottom:1px solid #000;width:100%;color:#7b7b7b}.left-panel[_ngcontent-%COMP%]{min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}"]}),t})()}];let dn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Sb({type:t}),t.\u0275inj=a.Rb({imports:[[o.e.forChild(cn)],o.e]}),t})();var un=i("d30a");const ln=[];let hn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Sb({type:t}),t.\u0275inj=a.Rb({imports:[[o.e.forChild(ln)],o.e]}),t})(),bn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Sb({type:t}),t.\u0275inj=a.Rb({imports:[[n.b,hn,Xe,M.g,M.n]]}),t})();i("LRne"),i("xgIS"),i("5+tZ"),i("lJxs"),i("vkgz"),i("pLZG"),i("7o/Q"),i("D0XW"),i("l7GE"),i("ZUHj");let fn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Sb({type:t}),t.\u0275inj=a.Rb({providers:[],imports:[[]]}),t})(),gn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Sb({type:t}),t.\u0275inj=a.Rb({imports:[[S.b,n.b,dn,Xe,ti.b,M.g,un.a,bn,M.n,b.a,fn,f.b]]}),t})()},xutz:function(t,e,i){"use strict";(function(t){var n=i("XqMk"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===o&&n.a.process,a=function(){try{return r&&r.require&&r.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();e.a=a}).call(this,i("3UD+")(t))}}]);